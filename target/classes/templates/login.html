<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"> 
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>BuySellConnect</title>

    <!--bootstrap css-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" 
    integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" 
    crossorigin="anonymous">

    <!--my css-->
    <link rel="stylesheet" th:href="@{/css/login.css}">

    <!--favicon-->
    <link rel="shortcut icon" type="image/x-icon" th:href="@{/images/favicon.ico}">

  </head>

    <body class="text-center home">
    
      <main class="form-login m-auto">

        <div class="modal modal-sheet position-static d-block" tabindex="-1" role="dialog" id="modalSignin">
            <div class="modal-dialog" role="document">
              <div class="modal-content rounded-4 shadow">
    
                <div class="modal-header p-5 pb-4 border-bottom-0">
                  <h1 class="fw-bold mb-0 fs-2">Login</h1>
                </div>
          
                <div class="modal-body p-5 pt-0">
                  <form th:action="@{/BuySellConnect/login}" method="post" th:object="${user}">
					
					<!--for signup-->
					<div th:if="${SignUpMessage}" class="alert alert-success alert-dismissible fade show" role="alert">
						<p th:text="${SignUpMessage}"></p>
						<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
					</div>
					
					<!--for logout-->
					<div th:if="${param.logout}" class="alert alert-success alert-dismissible fade show" role="alert">
		 				Successfully Logged Out
						<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
					</div>
					
                    <div class="form-floating mb-3"> <input type="text" 
                      class="form-control rounded-3" id="floatingInput" 
                      placeholder="Username" 
                      name="username"
                      minlength="1" 
                      maxlength="20" required>
                      <label for="floatingInput">Username</label>
                    </div>
                    
            		<div th:each="error : ${#fields.errors('username')}" class="alert alert-warning alert-dismissible fade show" 
            		role="alert">
						<p th:text="${error}"></p>
						<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
					</div>

                    <div class="form-floating mb-3">
                      <input type="password" 
                      class="form-control rounded-3" 
                      id="floatingPassword" 
                      placeholder="Password" 
                      name="password"
                      minlength="1" 
                      maxlength="20" required>
                      <label for="floatingPassword">Password</label>
                    </div>
                    
                    <div th:each="error : ${#fields.errors('password')}" class="alert alert-warning alert-dismissible fade show" 
            		role="alert">
						<p th:text="${error}"></p>
						<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
					</div>
					
					<div th:if="${param.error}" class="alert alert-warning alert-dismissible fade show" role="alert">
		 				Wrong Username or Password!
						<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
					</div>
					
                    <button class="w-100 mb-2 btn btn-lg rounded-3 btn-primary" type="submit">Login</button>
                   
                    <div class="mt-3">
                      <p>New user? <a th:href="@{/BuySellConnect/signup}">Signup</a></p>
                      <a th:href="@{/BuySellConnect}">Home</a>
                    </div>
                   
                  </form>
                </div>
              </div>
            </div>
          </div>

    </main>

    <!--bootstrap jss-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" 
    integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" 
    crossorigin="anonymous"></script>

    </body>

</html>